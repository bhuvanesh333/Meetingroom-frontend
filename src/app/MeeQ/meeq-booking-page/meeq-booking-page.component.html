<div class="extension-container">
    <div class="header">
        <h2>MeeQ</h2>
        <div class="legend">
            <div class="legend-item">
                <div class="legend-color am-meetings"></div>
                <span>AM Meetings</span>
            </div>
            <div class="legend-item">
                <div class="legend-color pm-meetings"></div>
                <span>PM Meetings</span>
            </div>
            <div class="legend-item">
                <div class="legend-color mixed-meetings"></div>
                <span>Mixed Time</span>
            </div>
        </div>
    </div>

    <div class="main-content">
        <!-- Left side - Room buttons (80%) -->
        <div class="rooms-section">
            <div class="rooms-grid-wrapper">
                <div class="rooms-grid">
                    <div *ngFor="let room of meetingRooms; trackBy: trackByRoomId" 
                         class="room-button"
                         [class.available]="room.isAvailable" 
                         [class.occupied]="!room.isAvailable"
                         (mouseenter)="onRoomCardMouseEnter(room)"
                         (mouseleave)="onRoomCardMouseLeave()"
                         (wheel)="onRoomCardWheel($event)">
                        <div class="room-text">
                            <div class="room-name">{{ room.ConferenceRoomName }}</div>
                            <div class="room-meta">{{ room.Capacity }}p ‚Ä¢ {{ room.Floor }}</div>
                        </div>
                        <!-- Pass room data to each clock instance -->
                        <bookingclock [roomData]="room"></bookingclock>
                    </div>
                </div>
            </div>
        </div>

        <!-- Right side - Info panel (20%) -->
        <div class="info-panel" #infoPanelRef>
            <div class="building-icon">üè¢</div>
            <div class="selected-room" *ngIf="selectedRoom">
                <div class="room-title">{{ selectedRoom.ConferenceRoomName }}</div>
                <div class="room-info">{{ selectedRoom.Capacity }}p</div>
                <div class="room-floor">{{ selectedRoom.Floor }}</div>

                <!-- Show bookings for selected room -->
                <div class="bookings-list" *ngIf="selectedRoomBookings.length > 0">
                    <div class="bookings-title">Today's Bookings:</div>
                    <div *ngFor="let booking of selectedRoomBookings" class="booking-item">
                        <div class="booking-time">{{ formatTo12Hour(booking.startTime) }} - {{ formatTo12Hour(booking.endTime) }}</div>
                        <div class="booking-title" *ngIf="booking.Description">{{ booking.Description }}</div>
                        <div class="booking-user">{{ toTitleCase(booking.UserName) }}</div>
                    </div>
                </div>
                <div class="no-bookings" *ngIf="selectedRoomBookings.length === 0">
                    No bookings today
                </div>
            </div>
            <div class="placeholder" *ngIf="!selectedRoom">
                <small>Select a room</small>
            </div>
        </div>
    </div>
</div>